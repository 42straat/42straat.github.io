"use strict";angular.module("42straatApp",["ngRoute","ngTouch","/mr/session","/mr/form","templates-pages"]).config(["$routeProvider",function(a){a.when("/signin",{templateUrl:"pages/signin/signin.html",signin:!0}).when("/signup",{templateUrl:"pages/signup/signup.html",signin:!0}).when("/",{templateUrl:"pages/land/land.html"}).when("/my",{templateUrl:"pages/home/home.html",auth:!0}).otherwise({redirectTo:"/"})}]).run(["Session","$location","$rootScope","$route","$window",function(a,b,c,d,e){function f(a){b.path(a)}function g(a){var b;return angular.forEach(j,function(c){!b&&c.regexp.test(a)&&(b=c)}),b||j[null]}var h="/signin",i="/my",j=d.routes;a.setConfig({apiUrl:"http://api.45straat.nl/api",tokenUrl:"login",userDataUrl:"/$api$/users/$username$",apiPlaceholder:"/$api$",publicApiPlaceholder:"/$public/api$"}),c.$on("$locationChangeStart",function(){var c=g(b.path());c&&(c.auth&&!a.authorized?f(h):c.signin&&a.authorized&&f(i))}),c.$on("$routeChangeStart",function(){e.scrollTo(0,0)}),a.$watch("authorized",function(a){console.log("Auth changed"),d.current?a&&d.current.$$route.signin?f(i):!a&&d.current.$$route.auth&&f(h):console.log("Wtf?")})}]);